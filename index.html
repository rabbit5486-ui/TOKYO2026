<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026越後湯沢·東京行</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { 
            --muji-bg: #F7F7F7; --muji-white: #FFFFFF; --muji-dark: #333333;
            --muji-blue: #1D3557; --muji-red: #E63946; --muji-gray: #999999;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: -apple-system, "Noto Sans TC", sans-serif; background: var(--muji-bg); color: var(--muji-dark); margin: 0; overflow-x: hidden; width: 100vw; }
        
        /* Banner & Header */
        .banner-container { width: 100%; height: 240px; position: relative; background: #ddd; }
        .banner-img { width: 100%; height: 100%; object-fit: cover; }
        .banner-overlay { position: absolute; bottom: 0; left: 0; right: 0; height: 100%; background: linear-gradient(0deg, rgba(0,0,0,0.6) 0%, transparent 60%); padding: 20px; display: flex; flex-direction: column; justify-content: flex-end; }
        .banner-overlay h1 { color: white; margin: 0; font-size: 1.6rem; }
        .banner-overlay p { color: rgba(255,255,255,0.8); margin: 5px 0 0; font-size: 0.9rem; }

        /* 滑動日期選擇 */
        .day-scroller { display: flex; overflow-x: auto; padding: 15px; gap: 10px; background: var(--muji-bg); position: sticky; top: 0; z-index: 100; border-bottom: 1px solid #eee; }
        .day-scroller::-webkit-scrollbar { display: none; }
        .date-btn { min-width: 65px; height: 75px; background: var(--muji-white); border-radius: 12px; display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 0 2px 6px rgba(0,0,0,0.05); border: none; }
        .date-btn.active { background: var(--muji-blue); color: white; }
        .date-btn .week { font-size: 11px; margin-bottom: 4px; opacity: 0.7; }
        .date-btn .date { font-size: 18px; font-weight: bold; }

        /* 卡片設計 */
        .page-content { padding: 15px; padding-bottom: 100px; display: none; width: 100%; }
        .page-content.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .card { background: var(--muji-white); border-radius: 16px; padding: 18px; margin-bottom: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.04); width: 100%; }
        .section-title { font-size: 1.1rem; font-weight: bold; margin-bottom: 15px; color: var(--muji-blue); display: flex; align-items: center; gap: 8px; }

        /* 行程內容列表 */
        .timeline-item { position: relative; padding-left: 25px; margin-bottom: 20px; border-left: 2px solid #eee; }
        .timeline-item::before { content: ''; position: absolute; left: -7px; top: 0; width: 12px; height: 12px; background: var(--muji-blue); border-radius: 50%; border: 2px solid white; }
        .time-label { font-size: 13px; font-weight: bold; color: var(--muji-red); margin-bottom: 3px; display: block; }
        .loc-label { font-size: 16px; font-weight: bold; margin-bottom: 5px; display: block; }
        .desc-label { font-size: 14px; color: #666; line-height: 1.5; }
        .map-btn { font-size: 12px; color: #007AFF; text-decoration: none; margin-top: 8px; display: inline-block; }

        /* 底部導覽列 */
        .navbar { position: fixed; bottom: 0; width: 100%; background: rgba(255,255,255,0.9); backdrop-filter: blur(10px); display: flex; height: 75px; border-top: 1px solid #eee; z-index: 1001; }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: var(--muji-gray); font-size: 10px; border: none; background: none; }
        .nav-item.active { color: var(--muji-blue); font-weight: bold; }
        .nav-item i { font-size: 22px; margin-bottom: 5px; }

        /* 計算機介面 */
        #calc-panel { position: fixed; bottom: 0; width: 100%; background: #eee; z-index: 2000; display: none; padding: 10px; border-radius: 20px 20px 0 0; }
        .calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .calc-btn { background: white; border: none; padding: 15px; font-size: 1.2rem; border-radius: 10px; font-weight: bold; }
        .calc-btn.op { background: var(--muji-blue); color: white; }

        /* 收納列表 */
        .check-item { display: flex; align-items: center; padding: 12px 0; border-bottom: 1px solid #f9f9f9; }
        .check-item input[type="checkbox"] { width: 22px; height: 22px; margin-right: 12px; accent-color: var(--muji-blue); }
    </style>
</head>
<body>

<div id="top-area">
    <div class="banner-container">
        <img src="https://images.unsplash.com/photo-1491667468134-996cd285a9ec?auto=format&fit=crop&w=800&q=80" class="banner-img">
        <div class="banner-overlay">
            <h1>2026 越後湯沢·東京行</h1>
            <p>滑雪、棒球與城市漫步</p>
        </div>
    </div>
</div>

<div id="itinerary-page" class="page-content active">
    <div class="day-scroller" id="dayScroller"></div>
    <div id="day-content"></div>
</div>

<div id="info-page" class="page-content">
    <div class="card">
        <div class="section-title"><i class="fas fa-plane"></i> 航班詳細資訊</div>
        <div class="timeline-item">
            <span class="time-label">2/27 (五) JX800</span>
            <span class="loc-label">台北 TPE (一航) → 東京 NRT (二航)</span>
            <span class="desc-label">08:25 起飛 | 12:35 降落</span>
        </div>
        <div class="timeline-item">
            <span class="time-label">3/08 (日) JX801</span>
            <span class="loc-name">東京 NRT (二航) → 台北 TPE (一航)</span>
            <span class="desc-label">20:10 起飛 | 23:20 降落</span>
        </div>
    </div>
    <div class="card">
        <div class="section-title"><i class="fas fa-hotel"></i> 住宿詳情</div>
        <div class="timeline-item">
            <span class="time-label">2/27 - 3/03 (越後湯沢)</span>
            <span class="loc-label">湯沢雪の宿</span>
            <span class="desc-label">ハツカ石口旁，Ski-in / Ski-out</span>
        </div>
        <div class="timeline-item">
            <span class="time-label">3/03 - 3/08 (東京)</span>
            <span class="loc-label">City Hideout シティハイドアウト</span>
            <span class="desc-label">東新宿站 B3 出口步 1 分 / 新大久保站 6 分</span>
        </div>
    </div>
</div>

<div id="luggage-page" class="page-content">
    <div class="card">
        <div class="section-title"><i class="fas fa-suitcase"></i> 收納清單</div>
        <div id="packingList"></div>
    </div>
</div>

<div id="wallet-page" class="page-content">
    <div class="card">
        <div class="section-title"><i class="fas fa-coins"></i> 支出紀錄</div>
        <input type="text" id="amountDisplay" readonly placeholder="點擊輸入金額" style="width: 100%; padding: 15px; font-size: 24px; text-align: right; border: 1px solid #ddd; border-radius: 10px; margin-bottom: 10px;" onclick="showCalc()">
        <input type="text" id="expenseNote" placeholder="備註內容..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 10px;">
        <button onclick="saveExpense()" style="width: 100%; padding: 15px; background: var(--muji-blue); color: white; border: none; border-radius: 10px; margin-top: 10px; font-weight: bold;">儲存紀錄</button>
    </div>
    <div id="expenseList"></div>
</div>

<div class="navbar">
    <button class="nav-item active" onclick="switchPage('itinerary', this)"><i class="fas fa-calendar-day"></i>行程</button>
    <button class="nav-item" onclick="switchPage('info', this)"><i class="fas fa-info-circle"></i>班機住宿</button>
    <button class="nav-item" onclick="switchPage('luggage', this)"><i class="fas fa-box-open"></i>行李收納</button>
    <button class="nav-item" onclick="switchPage('wallet', this)"><i class="fas fa-calculator"></i>記帳</button>
</div>

<div id="calc-panel">
    <div class="calc-grid">
        <button class="calc-btn" onclick="calcInput('7')">7</button><button class="calc-btn" onclick="calcInput('8')">8</button><button class="calc-btn" onclick="calcInput('9')">9</button><button class="calc-btn op" onclick="calcClear()">C</button>
        <button class="calc-btn" onclick="calcInput('4')">4</button><button class="calc-btn" onclick="calcInput('5')">5</button><button class="calc-btn" onclick="calcInput('6')">6</button><button class="calc-btn op" onclick="hideCalc()">OK</button>
        <button class="calc-btn" onclick="calcInput('1')">1</button><button class="calc-btn" onclick="calcInput('2')">2</button><button class="calc-btn" onclick="calcInput('3')">3</button><button class="calc-btn op" onclick="calcInput('0')">0</button>
    </div>
</div>

<script>
    const fullSchedule = {
        "2/27": [
            {t: "12:35", l: "抵達成田機場", d: "辦理入境。預計搭乘 14:02 或 14:22 Skyliner 前往上野。"},
            {t: "16:00", l: "小川町雪具街", d: "採買雪衣、雪褲 (都營新宿線 B5 出口)。"},
            {t: "19:42", l: "新幹線 [上野→越後湯沢]", d: "上越新幹線，預計 20:55 抵達。"},
            {t: "21:30", l: "民宿接駁車", d: "湯沢駅東口發車，前往雪の宿。"}
        ],
        "2/28": [
            {t: "07:20", l: "前往岩原滑雪場", d: "搭乘計程車 (早班接駁尚未開始)。"},
            {t: "08:30", l: "岩原教練課 (7hr)", d: "初學者練習聖地。"},
            {t: "17:00", l: "接駁車回車站", d: "Resort Center 2 前搭乘回越後湯沢。"}
        ],
        "3/01": [
            {t: "09:55", l: "哈石口接駁往中央口", d: "租借裝備，準備石打丸山滑行。"},
            {t: "10:30", l: "石打丸山開滑", d: "推薦 Sunrise Express 纜車觀景。"}
        ],
        "3/04": [
            {t: "08:00", l: "築地市場", d: "海鮮、玉子燒美食補給。"},
            {t: "10:30", l: "御殿場 Outlet", d: "新宿搭乘高速巴士前往。"},
            {t: "19:00", l: "一心たん助 (有樂町)", d: "究極牛舌吃到飽。"}
        ],
        "3/05": [
            {t: "12:00", l: "WBC: 台灣 vs 澳洲", d: "東京巨蛋為台灣英雄加油！"},
            {t: "18:00", l: "橫濱紅磚倉庫", d: "橫濱海港夜景漫步。"},
            {t: "19:30", l: "麵包超人博物館", d: "週邊商場與造型麵包。"}
        ],
        "3/06": [
            {t: "10:00", l: "日枝神社", d: "參拜壯觀鳥居，求工作運與結緣。"},
            {t: "19:00", l: "WBC: 台灣 vs 日本", desc: "東京巨蛋史詩對決。"}
        ],
        "3/07": [
            {t: "11:00", l: "東京大神宮", d: "東京結緣神社首選。"},
            {t: "17:30", l: "人形町今半 (新宿店)", d: "享受頂級壽喜燒。"}
        ],
        "3/08": [
            {t: "12:00", l: "WBC: 台灣 vs 韓國", d: "最後戰役，熱血應援。"},
            {t: "16:08", l: "新宿 N'EX 往機場", d: "搭乘特急前往成田二航。"}
        ]
    };

    const dates = ["2/27", "2/28", "3/01", "3/02", "3/03", "3/04", "3/05", "3/06", "3/07", "3/08"];
    const weeks = ["五", "六", "日", "一", "二", "三", "四", "五", "六", "日"];

    function init() {
        // 生成日期按鈕
        const scroller = document.getElementById('dayScroller');
        scroller.innerHTML = dates.map((d, i) => `
            <button class="date-btn ${i===0?'active':''}" onclick="showDay('${d}', this)">
                <span class="week">${weeks[i]}</span>
                <span class="date">${d.split('/')[1]}</span>
            </button>
        `).join('');
        showDay("2/27");

        // 初始化收納清單
        const pList = ["護照", "日幣現金", "雪衣褲/手套", "護具", "球衣/加油棒", "充電器/轉接頭"];
        document.getElementById('packingList').innerHTML = pList.map(it => `
            <div class="check-item"><input type="checkbox"><span>${it}</span></div>
        `).join('');
    }

    function showDay(date, el) {
        if(el) {
            document.querySelectorAll('.date-btn').forEach(b => b.classList.remove('active'));
            el.classList.add('active');
        }
        const container = document.getElementById('day-content');
        const items = fullSchedule[date] || [{t: "All Day", l: "自由活動", d: "享受東京街頭或休息"}];
        container.innerHTML = items.map(it => `
            <div class="card">
                <div class="timeline-item">
                    <span class="time-label">${it.t}</span>
                    <span class="loc-label">${it.l}</span>
                    <span class="desc-label">${it.d}</span>
                </div>
            </div>
        `).join('');
    }

    function switchPage(pId, el) {
        document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(pId + '-page').classList.add('active');
        el.classList.add('active');
        // 如果是行程頁面，顯示 Banner
        document.getElementById('top-area').style.display = (pId === 'itinerary') ? 'block' : 'none';
    }

    // 計算機功能
    function showCalc() { document.getElementById('calc-panel').style.display = 'block'; }
    function hideCalc() { document.getElementById('calc-panel').style.display = 'none'; }
    function calcInput(v) { document.getElementById('amountDisplay').value += v; }
    function calcClear() { document.getElementById('amountDisplay').value = ''; }
    
    init();
</script>
</body>
</html>
