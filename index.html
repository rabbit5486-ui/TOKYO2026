<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026è¶Šå¾Œæ¹¯æ²¢Â·æ±äº¬è¡Œ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { 
            --ishi-red: #E60012; --ishi-black: #1A1A1A; --ishi-bg: #FFFFFF;
            --ishi-light: #F8F8F8; --ishi-gray: #707070; --white: #FFFFFF;
        }
        body { font-family: "PingFang TC", "Microsoft JhengHei", sans-serif; background: var(--ishi-bg); color: var(--ishi-black); margin: 0; padding-bottom: 90px; -webkit-font-smoothing: antialiased; }
        
        /* Header é ‚éƒ¨ */
        .header { background: var(--ishi-black); color: var(--white); padding: 16px; text-align: center; position: sticky; top: 0; z-index: 1000; border-bottom: 4px solid var(--ishi-red); letter-spacing: 1px; }
        
        /* å°è¦½åˆ‡æ› */
        .tab-content { display: none; padding: 15px; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* è¡Œç¨‹æ—¥æœŸé¸æ“‡å™¨ */
        .day-selector { display: flex; overflow-x: auto; background: var(--ishi-light); padding: 12px; gap: 8px; border-bottom: 1px solid #DDD; position: sticky; top: 56px; z-index: 999; }
        .day-btn { padding: 8px 16px; background: var(--white); border: 1px solid #CCC; border-radius: 4px; white-space: nowrap; font-size: 13px; font-weight: bold; color: var(--ishi-black); }
        .day-btn.active { background: var(--ishi-red); color: white; border-color: var(--ishi-red); }

        /* å¡ç‰‡è¨­è¨ˆ - çŸ³æ‰“ä¸¸å±±ç°¡ç´„ç™½åº•é¢¨ */
        .card { background: var(--white); border: 1px solid #EAEAEA; border-radius: 4px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .card h3 { margin: 0 0 15px 0; color: var(--ishi-black); font-size: 1.2rem; display: flex; align-items: center; border-left: 4px solid var(--ishi-red); padding-left: 12px; }
        .card h3 i { margin-right: 8px; color: var(--ishi-red); font-size: 1rem; }

        /* è©³ç´°è¡Œç¨‹ç¯€é» */
        .node { position: relative; padding-left: 30px; margin-bottom: 20px; border-left: 1px solid #DDD; }
        .node::before { content: ''; position: absolute; left: -5px; top: 2px; width: 9px; height: 9px; background: var(--ishi-red); border-radius: 50%; }
        .time { font-weight: 800; color: var(--ishi-red); display: block; font-size: 0.9rem; margin-bottom: 4px; }
        .loc-name { font-weight: bold; color: var(--ishi-black); display: block; font-size: 1.05rem; }
        .desc { font-size: 0.9rem; color: var(--ishi-gray); line-height: 1.6; margin-top: 5px; }
        .link-btn { display: inline-flex; align-items: center; color: var(--ishi-red); text-decoration: none; font-size: 0.85rem; margin-top: 8px; font-weight: bold; border-bottom: 1px solid var(--ishi-red); padding-bottom: 2px; }
        .link-btn i { margin-right: 5px; }

        /* è¡Œæç®±èˆ‡æ”¶ç´æ¸…å–® */
        .storage-info { background: #FFF5F5; padding: 12px; border: 1px solid #FFDADA; border-radius: 4px; margin: 10px 0; font-size: 0.85rem; }
        .storage-info input { border: none; background: transparent; border-bottom: 1px solid #FBC2C2; width: 80px; text-align: center; color: var(--ishi-red); font-weight: bold; outline: none; }
        .todo-item { display: flex; align-items: center; margin: 10px 0; font-size: 0.95rem; }
        .todo-item input { width: 18px; height: 18px; margin-right: 12px; accent-color: var(--ishi-red); }

        /* åº•éƒ¨å°è¦½ */
        .navbar { position: fixed; bottom: 0; width: 100%; background: var(--ishi-black); display: flex; height: 75px; z-index: 1000; }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #BBB; font-size: 11px; text-decoration: none; }
        .nav-item.active { color: var(--white); font-weight: bold; }
        .nav-item i { font-size: 22px; margin-bottom: 6px; }
        .nav-item.active i { color: var(--ishi-red); }

        .tag-ski { background: #E60012; color: white; padding: 2px 6px; font-size: 10px; border-radius: 2px; vertical-align: middle; margin-left: 5px; }
        .tag-wbc { background: #002D56; color: white; padding: 2px 6px; font-size: 10px; border-radius: 2px; vertical-align: middle; margin-left: 5px; }
    </style>
</head>
<body>

<div class="header">2026 è¶Šå¾Œæ¹¯æ²¢ãƒ»æ±äº¬è¡Œ</div>

<div class="navbar">
    <div class="nav-item active" onclick="showMainTab('info', this)"><i class="fas fa-plane"></i>è³‡è¨Šé¦–é </div>
    <div class="nav-item" onclick="showMainTab('itinerary', this)"><i class="fas fa-calendar-alt"></i>è©³ç´°è¡Œç¨‹</div>
    <div class="nav-item" onclick="showMainTab('luggage', this)"><i class="fas fa-suitcase"></i>è¡Œææ”¶ç´</div>
    <div class="nav-item" onclick="showMainTab('wallet', this)"><i class="fas fa-yen-sign"></i>é ç®—è¨˜å¸³</div>
</div>

<div id="info" class="tab-content active">
    <div class="card">
        <h3><i class="fas fa-plane-departure"></i> èˆªç­è³‡è¨Š (æ˜Ÿå®‡)</h3>
        <div class="node">
            <span class="time">2/27 (äº”) JX800</span>
            <span class="loc-name">TPE å°åŒ— (ä¸€èˆª) 08:25 â†’ NRT æ±äº¬ (äºŒèˆª) 12:35</span>
        </div>
        <div class="node">
            <span class="time">3/08 (æ—¥) JX801</span>
            <span class="loc-name">NRT æ±äº¬ (äºŒèˆª) 20:10 â†’ TPE å°åŒ— (ä¸€èˆª) 23:20</span>
        </div>
    </div>
    <div class="card">
        <h3><i class="fas fa-hotel"></i> ä½å®¿åœ°é»</h3>
        <p><strong>2/27-3/3 (è¶Šå¾Œæ¹¯æ²¢)</strong><br>æ¹¯æ²¢é›ªã®å®¿ (ãƒãƒ„ã‚«çŸ³å£æ—)<br>
        <a href="https://maps.app.goo.gl/tBmsq8Xn5kK99hB29" class="link-btn"><i class="fas fa-map-marked-alt"></i> é–‹å•Ÿåœ°åœ–å°èˆª</a></p>
        <p><strong>3/3-3/8 (æ±äº¬å¸‚å€)</strong><br>City Hideout ã‚·ãƒ†ã‚£ãƒã‚¤ãƒ‰ã‚¢ã‚¦ãƒˆ<br>
        <span class="desc">æ±æ–°å®¿ç«™ B3 å‡ºå£æ­¥ 1 åˆ† / æ–°å¤§ä¹…ä¿ç«™æ­¥ 6 åˆ†</span><br>
        <a href="https://maps.app.goo.gl/MtvtBreUZcNnmHLz6" class="link-btn"><i class="fas fa-map-marked-alt"></i> é–‹å•Ÿåœ°åœ–å°èˆª</a></p>
    </div>
</div>

<div id="itinerary" class="tab-content">
    <div class="day-selector">
        <button class="day-btn active" onclick="showDay(1)">2/27 å…¥å¢ƒ</button>
        <button class="day-btn" onclick="showDay(2)">2/28 å²©åŸ</button>
        <button class="day-btn" onclick="showDay(3)">3/01 çŸ³æ‰“</button>
        <button class="day-btn" onclick="showDay(4)">3/02 çŸ³æ‰“</button>
        <button class="day-btn" onclick="showDay(5)">3/03 æ•˜æ•˜è‹‘</button>
        <button class="day-btn" onclick="showDay(6)">3/04 ç¯‰åœ°</button>
        <button class="day-btn" onclick="showDay(7)">3/05 WBC/æ©«æ¿±</button>
        <button class="day-btn" onclick="showDay(8)">3/06 WBC/æ—¥æ</button>
        <button class="day-btn" onclick="showDay(9)">3/07 WBC/ä»ŠåŠ</button>
        <button class="day-btn" onclick="showDay(10)">3/08 WBC/æ­¸è³¦</button>
    </div>

    <div id="day1" class="day-panel" style="display:block;">
        <div class="card">
            <h3>2/27 (äº”) å…¥å¢ƒæ—¥æœ¬ <span class="tag-ski">è¶Šå¾Œæ¹¯æ²¢</span></h3>
            <div class="node"><span class="time">12:35</span><span class="loc-name">æŠµé”æˆç”°æ©Ÿå ´äºŒèˆª</span><span class="desc">é è¨ˆæ­ä¹˜ 14:02 æˆ– 14:22 ä¹‹ Skyliner å‰å¾€äº¬æˆä¸Šé‡ã€‚</span></div>
            <div class="node"><span class="time">16:00</span><span class="loc-name">å°å·ç”ºé›ªå…·è¡— (éƒ½ç‡Ÿæ–°å®¿ç·š B5å‡ºå£)</span><span class="desc">æ¡è²·é›ªè¡£ã€é›ªè¤²ã€‚<br><a href="https://maps.app.goo.gl/9ZpC6" class="link-btn">åœ°åœ–é€£çµ</a></span></div>
            <div class="node"><span class="time">19:42</span><span class="loc-name">ä¸Šé‡ç«™ç™¼è»Š â†’ è¶Šå¾Œæ¹¯æ²¢</span><span class="desc">æ–°å¹¹ç·šæŠµé”å¾Œï¼Œè¶• 21:30 æ°‘å®¿æœ€å¾Œä¸€ç­æ¥é§è»Šã€‚</span></div>
        </div>
    </div>

    <div id="day2" class="day-panel" style="display:none;">
        <div class="card">
            <h3>2/28 (å…­) å²©åŸæ»‘é›ªå ´ <span class="tag-ski">æ•™ç·´èª²</span></h3>
            <div class="node"><span class="time">07:20</span><span class="loc-name">æ­è¨ˆç¨‹è»Šå‰å¾€å²©åŸ</span><span class="desc">å› ç‚ºæ—©ç­æ¥é§å°šæœªé–‹å§‹ã€‚</span></div>
            <div class="node"><span class="time">08:30-15:30</span><span class="loc-name">å²©åŸæ•™ç·´èª² (7å°æ™‚)</span><span class="desc">äº«å—å…¨æ—¥æœ¬æœ€å¯¬å»£çš„ç·©æ–œå¡ã€‚</span></div>
            <div class="node"><span class="time">17:00</span><span class="loc-name">æ¥é§è»Šå›è¶Šå¾Œæ¹¯æ²¢é§…</span><span class="desc">æ–¼å²©åŸ Resort Center 2 å‰æ­ä¹˜ã€‚</span></div>
        </div>
    </div>

    <div id="day3" class="day-panel" style="display:none;">
        <div class="card">
            <h3>3/01 (æ—¥) çŸ³æ‰“ä¸¸å±± (Day 1)</h3>
            <div class="node"><span class="time">09:55</span><span class="loc-name">ãƒãƒ„ã‚«çŸ³å£ â†’ ä¸­å¤® Center</span><span class="desc">æ­æ¥é§è»Šç§Ÿè£å‚™ (2å¤©)ã€‚</span></div>
            <div class="node"><span class="time">10:30</span><span class="loc-name">çŸ³æ‰“ä¸¸å±±é–‹æ»‘</span><span class="desc">æ¨è–¦ï¼šSunrise Express çºœè»Šã€‚</span></div>
        </div>
    </div>

    <div id="day6" class="day-panel" style="display:none;">
        <div class="card">
            <h3>3/04 (ä¸‰) ç¯‰åœ°å¸‚å ´ & Outlet</h3>
            <div class="node"><span class="time">08:00</span><span class="loc-name">ç¯‰åœ°å ´å¤–å¸‚å ´</span><span class="desc">å¿…åƒï¼šç‰å­ç‡’ã€æµ·é®®ä¸¼ã€ç‚™ç‡’å¹²è²ã€‚<br><a href="https://maps.app.goo.gl/G6LhM" class="link-btn">åœ°åœ–é€£çµ</a></span></div>
            <div class="node"><span class="time">09:55</span><span class="loc-name">é«˜é€Ÿå·´å£«å¾€å¾¡æ®¿å ´</span><span class="desc">æ–°å®¿ç«™ç™¼è»Šï¼Œé è¨ˆ 11:30 æŠµé”ã€‚</span></div>
            <div class="node"><span class="time">19:00</span><span class="loc-name">ä¸€å¿ƒãŸã‚“åŠ© (æœ‰æ¨‚ç”º)</span><span class="desc">ç‰›èˆŒåƒåˆ°é£½å¤§é¤ã€‚</span></div>
        </div>
    </div>

    <div id="day7" class="day-panel" style="display:none;">
        <div class="card">
            <h3>3/05 (å››) WBC å°ç£æˆ° & æ©«æ¿±éŠ</h3>
            <div class="node"><span class="time">12:00</span><span class="loc-name">æ±äº¬å·¨è›‹ (WBC å°ç£ vs æ¾³æ´²)</span><span class="desc">æ°´é“æ©‹ç«™/å¾Œæ¨‚åœ’ç«™ã€‚</span></div>
            <div class="node"><span class="time">17:30</span><span class="loc-name">æ©«æ¿±ç´…ç£šå€‰åº«</span><span class="desc">æµ·æ¸¯ç¾æ™¯èˆ‡æ–‡å‰µå•†åº—ã€‚<br><a href="https://maps.app.goo.gl/YV9Xq" class="link-btn">åœ°åœ–é€£çµ</a></span></div>
            <div class="node"><span class="time">19:00</span><span class="loc-name">æ©«æ¿±éºµåŒ…è¶…äººåšç‰©é¤¨</span><span class="desc">å¿…çœ‹é€ å‹éºµåŒ…ã€‚<br><a href="https://maps.app.goo.gl/8XW6u" class="link-btn">åœ°åœ–é€£çµ</a></span></div>
        </div>
    </div>

    <div id="day8" class="day-panel" style="display:none;">
        <div class="card">
            <h3>3/06 (äº”) æ—¥æç¥ç¤¾ & WBC å°æ—¥å¤§æˆ°</h3>
            <div class="node"><span class="time">10:00</span><span class="loc-name">æ—¥æç¥ç¤¾</span><span class="desc">æ“æœ‰éœ‡æ’¼çš„å±±ç‹é³¥å±…èˆ‡ç¨»è·åƒæœ¬é³¥å±…ï¼Œæ±‚å·¥ä½œé‹æ¥µä½³ã€‚<br><a href="https://maps.app.goo.gl/9P7vS" class="link-btn">åœ°åœ–é€£çµ</a></span></div>
            <div class="node"><span class="time">19:00</span><span class="loc-name">WBC å°ç£ vs æ—¥æœ¬</span><span class="desc">ç¶“å…¸å°æ±ºï¼Œææ—©é€²å ´ã€‚</span></div>
        </div>
    </div>

    <div id="day9" class="day-panel" style="display:none;">
        <div class="card">
            <h3>3/07 (å…­) æ±äº¬å¤§ç¥å®® & ä»ŠåŠ</h3>
            <div class="node"><span class="time">10:00</span><span class="loc-name">æ±äº¬å¤§ç¥å®®</span><span class="desc">æ±äº¬è¶…éˆé©—çš„çµç·£ç¥å®®ã€‚<br><a href="https://maps.app.goo.gl/XqL8W" class="link-btn">åœ°åœ–é€£çµ</a></span></div>
            <div class="node"><span class="time">17:00</span><span class="loc-name">äººå½¢ç”ºä»ŠåŠ (æ–°å®¿)</span><span class="desc">ç©¶æ¥µå£½å–œç‡’é¥—å®´ã€‚</span></div>
        </div>
    </div>

    <div id="day10" class="day-panel" style="display:none;">
        <div class="card">
            <h3>3/08 (æ—¥) WBC å°éŸ“æˆ° & æ­¸è³¦</h3>
            <div class="node"><span class="time">12:00</span><span class="loc-name">WBC å°ç£ vs éŸ“åœ‹</span></div>
            <div class="node"><span class="time">16:08</span><span class="loc-name">æ–°å®¿ N'EX å¾€æ©Ÿå ´</span><span class="desc">æŠµé”äºŒèˆªå¾Œè¾¦ç†ç™»æ©Ÿã€‚</span></div>
        </div>
    </div>
</div>

<div id="luggage" class="tab-content">
    <div id="bagContainer"></div>
    <button onclick="addNewBag()" style="width:100%; padding:15px; background:var(--ishi-red); color:white; border:none; border-radius:4px; font-weight:bold;">+ æ–°å¢è¡Œæç®±</button>
</div>

<div id="wallet" class="tab-content">
    <div class="card">
        <h3><i class="fas fa-edit"></i> è¨˜å¸³</h3>
        <input type="text" id="expTitle" placeholder="é …ç›®" style="width:70%; padding:10px; margin-bottom:5px;">
        <input type="number" id="expAmount" placeholder="é‡‘é¡" style="width:25%; padding:10px;">
        <button onclick="addExpense()" style="width:100%; padding:12px; background:var(--ishi-black); color:white; border:none; width:100%; margin-top:10px;">å„²å­˜</button>
    </div>
    <div id="expenseList"></div>
</div>

<script>
    function showMainTab(id, el) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        el.classList.add('active');
    }

    function showDay(day) {
        document.querySelectorAll('.day-panel').forEach(p => p.style.display = 'none');
        document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('day' + day).style.display = 'block';
        event.target.classList.add('active');
    }

    let bags = JSON.parse(localStorage.getItem('ishi_bags_final')) || [
        { name: "è¡Œæç®± A (æ»‘é›ªç”¨)", store: "ä¸Šé‡ç«™", date: "2/27", cost: "700", items: ["é›ªè¡£", "é›ªè¤²", "è­·å…·", "é›ªè¥ª"] }
    ];

    function renderBags() {
        const container = document.getElementById('bagContainer');
        container.innerHTML = bags.map((bag, bIdx) => `
            <div class="card">
                <h3><i class="fas fa-box"></i> <input value="${bag.name}" onchange="updateBag(${bIdx}, 'name', this.value)" style="border:none; color:var(--ishi-black); font-weight:bold; width:80%;"></h3>
                <div class="storage-info">
                    ğŸ“ å¯„æ”¾ï¼š<input value="${bag.store}" onchange="updateBag(${bIdx}, 'store', this.value)"> | 
                    æ—¥æœŸï¼š<input value="${bag.date}" onchange="updateBag(${bIdx}, 'date', this.value)"> | 
                    Â¥ï¼š<input value="${bag.cost}" onchange="updateBag(${bIdx}, 'cost', this.value)">
                </div>
                <div style="margin-top:10px;">
                    ${bag.items.map((it, iIdx) => `
                        <div class="todo-item">
                            <input type="checkbox"> <span>${it}</span>
                            <i class="fas fa-times" style="margin-left:auto; color:#DDD" onclick="removeItem(${bIdx}, ${iIdx})"></i>
                        </div>
                    `).join('')}
                    <div style="display:flex; gap:5px; margin-top:10px;">
                        <input type="text" id="newIt-${bIdx}" placeholder="æ–°å¢é …ç›®..." style="flex:1; padding:5px; border:1px solid #EEE;">
                        <button onclick="addItem(${bIdx})" style="background:var(--ishi-black); color:white; border:none; padding:5px 10px;">+</button>
                    </div>
                </div>
            </div>
        `).join('');
        localStorage.setItem('ishi_bags_final', JSON.stringify(bags));
    }

    function updateBag(idx, key, val) { bags[idx][key] = val; renderBags(); }
    function addNewBag() { bags.push({name:"æ–°è¡Œæç®±", store:"", date:"", cost:"", items:[]}); renderBags(); }
    function addItem(idx) {
        let input = document.getElementById(`newIt-${idx}`);
        if(input.value) { bags[idx].items.push(input.value); input.value = ''; renderBags(); }
    }
    function removeItem(bIdx, iIdx) { bags[bIdx].items.splice(iIdx, 1); renderBags(); }

    let expenses = JSON.parse(localStorage.getItem('ishi_exp_final')) || [];
    function addExpense() {
        const title = document.getElementById('expTitle').value;
        const amount = document.getElementById('expAmount').value;
        if(title && amount) {
            expenses.unshift({ title, amount });
            renderExpenses();
            document.getElementById('expTitle').value = ''; document.getElementById('expAmount').value = '';
        }
    }
    function renderExpenses() {
        const list = document.getElementById('expenseList');
        list.innerHTML = expenses.map(ex => `<div class="card" style="padding:10px; display:flex; justify-content:space-between;"><span>${ex.title}</span><span style="color:var(--ishi-red); font-weight:bold;">Â¥${ex.amount}</span></div>`).join('');
        localStorage.setItem('ishi_exp_final', JSON.stringify(expenses));
    }

    renderBags(); renderExpenses();
</script>

</body>
</html>
