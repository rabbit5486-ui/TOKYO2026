<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026è¶Šå¾Œæ¹¯æ²¢Â·æ±äº¬è¡Œ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { 
            --ishi-blue: #002D56; --ishi-orange: #FF6B00; --ishi-bg: #F0F2F5;
            --ishi-text: #1A1A1A; --white: #FFFFFF; --gray: #666;
        }
        body { font-family: "PingFang TC", "Heiti TC", sans-serif; background: var(--ishi-bg); color: var(--ishi-text); margin: 0; padding-bottom: 90px; }
        .header { background: var(--ishi-blue); color: var(--white); padding: 15px; text-align: center; position: sticky; top: 0; z-index: 1000; border-bottom: 4px solid var(--ishi-orange); box-shadow: 0 2px 10px rgba(0,0,0,0.2); }
        
        /* å°è¦½åˆ‡æ› */
        .tab-content { display: none; padding: 15px; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* è¡Œç¨‹æ—¥æœŸé¸æ“‡å™¨ */
        .day-selector { display: flex; overflow-x: auto; background: var(--white); padding: 10px; gap: 8px; border-bottom: 1px solid #ddd; position: sticky; top: 56px; z-index: 999; }
        .day-btn { padding: 8px 15px; background: #eee; border-radius: 20px; white-space: nowrap; font-size: 13px; border: none; font-weight: bold; color: var(--gray); }
        .day-btn.active { background: var(--ishi-orange); color: white; }

        /* å¡ç‰‡è¨­è¨ˆ */
        .card { background: var(--white); border-radius: 12px; padding: 18px; margin-bottom: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); position: relative; overflow: hidden; }
        .card::before { content: ''; position: absolute; left: 0; top: 0; width: 6px; height: 100%; background: var(--ishi-blue); }
        .card h3 { margin: 0 0 12px 0; color: var(--ishi-blue); font-size: 1.15rem; display: flex; align-items: center; }
        .card h3 i { margin-right: 10px; color: var(--ishi-orange); }

        /* è©³ç´°è¡Œç¨‹ç¯€é» */
        .node { position: relative; padding-left: 28px; margin-bottom: 18px; border-left: 2px dashed #cbd5e0; }
        .node::before { content: ''; position: absolute; left: -7px; top: 2px; width: 12px; height: 12px; background: var(--ishi-orange); border-radius: 50%; border: 2px solid white; }
        .time { font-weight: 800; color: var(--ishi-blue); display: block; font-size: 0.95rem; margin-bottom: 2px; }
        .loc-name { font-weight: bold; color: #2d3748; display: block; }
        .desc { font-size: 0.88rem; color: #4a5568; line-height: 1.5; margin-top: 4px; }
        .link-btn { display: inline-flex; align-items: center; background: #f7fafc; padding: 4px 8px; border-radius: 4px; text-decoration: none; color: #3182ce; font-size: 0.8rem; margin-top: 6px; border: 1px solid #e2e8f0; }

        /* è¡Œæç®±ç³»çµ± */
        .storage-info { background: #fffaf0; padding: 10px; border-radius: 8px; margin: 10px 0; font-size: 0.85rem; border: 1px solid #feebc8; }
        .storage-info input { border: none; background: transparent; border-bottom: 1px solid #ed8936; width: 80px; text-align: center; }
        .todo-list { margin-top: 12px; border-top: 1px solid #edf2f7; padding-top: 10px; }
        .todo-item { display: flex; align-items: center; margin: 6px 0; font-size: 0.9rem; }
        .todo-item input { width: 18px; height: 18px; margin-right: 10px; }

        /* åº•éƒ¨å°è¦½ */
        .navbar { position: fixed; bottom: 0; width: 100%; background: var(--ishi-blue); display: flex; height: 70px; z-index: 1000; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: rgba(255,255,255,0.6); font-size: 11px; text-decoration: none; }
        .nav-item.active { color: var(--ishi-orange); font-weight: bold; }
        .nav-item i { font-size: 20px; margin-bottom: 5px; }

        /* åœ–ç‰‡å®¹å™¨ */
        .img-container { width: 100%; border-radius: 8px; margin: 10px 0; overflow: hidden; border: 1px solid #e2e8f0; }
        .img-container img { width: 100%; display: block; }
    </style>
</head>
<body>

<div class="header">2026è¶Šå¾Œæ¹¯æ²¢Â·æ±äº¬è¡Œ</div>

<div class="navbar">
    <div class="nav-item active" onclick="showMainTab('info', this)"><i class="fas fa-home"></i>è³‡è¨Šé¦–é </div>
    <div class="nav-item" onclick="showMainTab('itinerary', this)"><i class="fas fa-calendar-alt"></i>è¡Œç¨‹ç´°ç¯€</div>
    <div class="nav-item" onclick="showMainTab('luggage', this)"><i class="fas fa-suitcase"></i>è¡Œææ”¶ç´</div>
    <div class="nav-item" onclick="showMainTab('wallet', this)"><i class="fas fa-coins"></i>è¨˜å¸³é ç®—</div>
</div>

<div id="info" class="tab-content active">
    <div class="card">
        <h3><i class="fas fa-plane"></i> èˆªç­è³‡è¨Š (æ˜Ÿå®‡èˆªç©º)</h3>
        <div class="node">
            <span class="time">2/27 (äº”) å»ç¨‹ JX800</span>
            <span class="loc-name">å°åŒ— TPE (ä¸€èˆª) ğŸ›« 08:25 â†’ æ±äº¬ NRT (äºŒèˆª) ğŸ›¬ 12:35</span>
        </div>
        <div class="node">
            <span class="time">3/08 (æ—¥) å›ç¨‹ JX801</span>
            <span class="loc-name">æ±äº¬ NRT (äºŒèˆª) ğŸ›« 20:10 â†’ å°åŒ— TPE (ä¸€èˆª) ğŸ›¬ 23:20</span>
        </div>
    </div>
    <div class="card">
        <h3><i class="fas fa-bed"></i> ä½å®¿è³‡è¨Š</h3>
        <p><strong>2/27 - 3/03 è¶Šå¾Œæ¹¯æ²¢</strong><br>æ¹¯æ²¢é›ªã®å®¿ (ãƒãƒ„ã‚«çŸ³å£æ—, Ski-in/out)<br>
        <a href="https://maps.app.goo.gl/MtvtBreUZcNnmHLz6" class="link-btn"><i class="fas fa-map-marker-alt"></i> Google Map</a></p>
        <p><strong>3/03 - 3/08 æ±äº¬å¸‚å€</strong><br>City Hideout ã‚·ãƒ†ã‚£ãƒã‚¤ãƒ‰ã‚¢ã‚¦ãƒˆ<br>
        <span class="desc">æ±æ–°å®¿ç«™ B3 å‡ºå£æ­¥ 1-2 åˆ† / æ–°å¤§ä¹…ä¿ç«™ 6-8 åˆ†</span><br>
        <a href="https://maps.app.goo.gl/3S5E16W2yL3nFsh38" class="link-btn"><i class="fas fa-map-marker-alt"></i> Google Map</a></p>
    </div>
</div>

<div id="itinerary" class="tab-content">
    <div class="day-selector">
        <button class="day-btn active" onclick="showDay(1)">2/27 å…¥å¢ƒ</button>
        <button class="day-btn" onclick="showDay(2)">2/28 å²©åŸ</button>
        <button class="day-btn" onclick="showDay(3)">3/01 çŸ³æ‰“</button>
        <button class="day-btn" onclick="showDay(4)">3/02 çŸ³æ‰“</button>
        <button class="day-btn" onclick="showDay(5)">3/03 æ•˜æ•˜è‹‘</button>
        <button class="day-btn" onclick="showDay(6)">3/04 Outlet</button>
        <button class="day-btn" onclick="showDay(7)">3/05 WBC/æ©«æ¿±</button>
        <button class="day-btn" onclick="showDay(8)">3/06 WBC/è±ªå¾·å¯º</button>
        <button class="day-btn" onclick="showDay(9)">3/07 WBC/ä»ŠåŠ</button>
        <button class="day-btn" onclick="showDay(10)">3/08 WBC/æ­¸è³¦</button>
    </div>

    <div id="day1" class="day-panel" style="display:block;">
        <div class="card">
            <h3>2/27 å…¥å¢ƒæ—¥æœ¬èˆ‡è¡Œæåˆ†æµ</h3>
            <div class="node">
                <span class="time">14:02 / 14:22</span>
                <span class="loc-name">æ­ä¹˜ Skyliner å¾€äº¬æˆä¸Šé‡</span>
                <span class="desc">æ ¹æ“šå…¥å¢ƒé€šé—œé€Ÿåº¦é¸æ“‡è»Šæ¬¡ã€‚æŠµé”å¾Œå…ˆåœ¨è»Šç«™å¯„æ”¾æ»‘é›ªè¡Œæã€‚</span>
            </div>
            <div class="node">
                <span class="time">16:00</span>
                <span class="loc-name">å°å·ç”ºé›ªå…·è¡— (éƒ½ç‡Ÿæ–°å®¿ç·š B5 å‡ºå£)</span>
                <span class="desc">é›†ä¸­æ¡è²·é›ªè¡£ã€é›ªè¤²ã€‚ä¸€æ¢è¡—éƒ½æ˜¯åº—ï¼Œå¥½é€›å¥½è²·ã€‚</span>
            </div>
            <div class="node">
                <span class="time">19:42</span>
                <span class="loc-name">ä¸Šé‡ç«™ â†’ è¶Šå¾Œæ¹¯æ²¢ (ä¸Šè¶Šæ–°å¹¹ç·š)</span>
                <span class="desc">å›è»Šç«™å–è¡Œæï¼Œè¨˜å¾—åœ¨è»Šä¸Šè²·å€‹ä¾¿ç•¶ã€‚</span>
            </div>
            <div class="node">
                <span class="time">21:30</span>
                <span class="loc-name">æ°‘å®¿æ¥é§è»Š (æ¹¯æ²¢é§…æ±å£)</span>
                <span class="desc">é€™æ˜¯æ°‘å®¿æœ€å¾Œä¸€ç­æ¥é§è»Šï¼Œå‹™å¿…è¶•ä¸Šã€‚</span>
            </div>
        </div>
    </div>

    <div id="day2" class="day-panel" style="display:none;">
        <div class="card">
            <h3>2/28 å²©åŸæ»‘é›ªå ´åˆé«”é©—</h3>
            <div class="img-container"><img src="http://googleusercontent.com/image_collection/image_retrieval/7436371898079008275_1"></div>
            <div class="node">
                <span class="time">07:20</span>
                <span class="loc-name">è¨ˆç¨‹è»Šå‰å¾€å²©åŸ</span>
                <span class="desc">æ—©ç­æ¥é§è»Šå°šæœªé–‹å§‹ï¼Œç‚ºäº†è¶• 08:30 çš„èª²å¿…é ˆæ­å°é»ƒã€‚</span>
            </div>
            <div class="node">
                <span class="time">08:30 - 15:30</span>
                <span class="loc-name">å²©åŸæ•™ç·´èª² (7å°æ™‚)</span>
                <span class="desc">å²©åŸä»¥è¶…å¯¬å»£å¹³å¦çš„æ–œå¡èåï¼Œæ˜¯æ–°æ‰‹ç·´ç¿’çš„å¤©å ‚ã€‚</span>
            </div>
            <div class="node">
                <span class="time">17:00</span>
                <span class="loc-name">æ¥é§è»Šå›è¶Šå¾Œæ¹¯æ²¢é§…</span>
                <span class="desc">æ–¼å²©åŸ Resort Center 2 å‰æ­ä¹˜ã€‚</span>
            </div>
        </div>
    </div>

    <div id="day7" class="day-panel" style="display:none;">
        <div class="card">
            <h3>3/05 WBC å°ç£æˆ° & æ©«æ¿±è©³ç´°éŠ</h3>
            <div class="node">
                <span class="time">12:00</span>
                <span class="loc-name">æ±äº¬å·¨è›‹ (WBC å°ç£ vs æ¾³æ´²)</span>
                <span class="desc">æ°´é“æ©‹ç«™ä¸‹è»Šï¼Œå…¨å°é›†æ°£ï¼</span>
            </div>
            <div class="node">
                <span class="time">17:30</span>
                <span class="loc-name">æ©«æ¿±ç´…ç£šå€‰åº« (æ©«æ¿±ç«™è½‰å°)</span>
                <span class="desc">ç™¾å¹´å»ºç¯‰æ”¹è£çš„æ–‡å‰µå•†å ´ï¼Œå¤œæ™¯æ¥µç¾ã€‚<br><a href="https://maps.app.goo.gl/æ©«æ¿±ç´…ç£šå€‰åº«é€£çµ" class="link-btn"><i class="fas fa-map"></i> Map</a></span>
            </div>
            <div class="node">
                <span class="time">19:00</span>
                <span class="loc-name">éºµåŒ…è¶…äººåšç‰©é¤¨</span>
                <span class="desc">å³ä¾¿æ²’é€²é¤¨ï¼Œå‘¨é‚Šå•†åº—èˆ‡é€ å‹éºµåŒ…ä¹Ÿéå¸¸å¯æ„›ã€‚<br><a href="https://maps.app.goo.gl/éºµåŒ…è¶…äººé€£çµ" class="link-btn"><i class="fas fa-map"></i> Map</a></span>
            </div>
            <div class="node">
                <span class="time">20:30</span>
                <span class="loc-name">æ©«æ¿±åœ°æ¨™å¡” 69F å±•æœ›å°</span>
                <span class="desc">ä¿¯ç°å…¨æ—¥æœ¬æœ€é«˜ç­‰ç´šçš„æ¸¯ç£å¤œæ™¯ã€‚</span>
            </div>
        </div>
    </div>

    <div id="day3" class="day-panel" style="display:none;"><div class="card"><h3>3/01 çŸ³æ‰“ä¸¸å±±</h3><p>ãƒãƒ„ã‚«çŸ³å£ 09:55 æ¥é§è»Šå¾€ä¸­å¤® Center ç§Ÿè£å‚™ã€‚</p></div></div>
</div>

<div id="luggage" class="tab-content">
    <div id="bagContainer"></div>
    <button onclick="addNewBag()" style="width:100%; padding:15px; background:var(--ishi-orange); color:white; border:none; border-radius:12px; font-weight:bold;">+ æ–°å¢è‡ªå®šç¾©è¡Œæç®±</button>
</div>

<div id="wallet" class="tab-content">
    <div class="card">
        <h3><i class="fas fa-edit"></i> æ–°å¢èŠ±è²»</h3>
        <div style="display:flex; gap:10px; margin-bottom:10px;">
            <input type="text" id="expTitle" placeholder="é …ç›®" style="flex:2; padding:10px; border:1px solid #ddd; border-radius:8px;">
            <input type="number" id="expAmount" placeholder="é‡‘é¡" style="flex:1; padding:10px; border:1px solid #ddd; border-radius:8px;">
        </div>
        <select id="expCat" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px; margin-bottom:10px;">
            <option>ğŸ´ é£²é£Ÿ</option><option>ğŸš… äº¤é€š</option><option>ğŸ›ï¸ è³¼ç‰©</option><option>âš¾ WBC é–€ç¥¨</option>
        </select>
        <button onclick="addExpense()" style="width:100%; padding:12px; background:var(--ishi-blue); color:white; border:none; border-radius:8px;">å­˜å…¥æ‰‹æ©Ÿç©ºé–“</button>
    </div>
    <div id="expenseList"></div>
</div>

<script>
    function showMainTab(id, el) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        el.classList.add('active');
        window.scrollTo(0,0);
    }

    function showDay(day) {
        document.querySelectorAll('.day-panel').forEach(p => p.style.display = 'none');
        document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('day' + day).style.display = 'block';
        event.target.classList.add('active');
    }

    // è¡Œæç³»çµ± (æœ¬åœ°å­˜å„²)
    let bags = JSON.parse(localStorage.getItem('ishi_bags_v3')) || [
        { name: "è¡Œæç®± A (æ»‘é›ªç”¨)", store: "ä¸Šé‡ç«™", date: "2/27", cost: "700", items: ["é›ªè¡£è¤²", "è­·å…·", "ä¿æš–è¥ª", "è­·ç›®é¡"] }
    ];

    function renderBags() {
        const container = document.getElementById('bagContainer');
        container.innerHTML = bags.map((bag, bIdx) => `
            <div class="card">
                <h3><i class="fas fa-box"></i> <input value="${bag.name}" onchange="updateBag(${bIdx}, 'name', this.value)" style="border:none; color:var(--ishi-blue); font-weight:bold; font-size:1.1rem; width:80%;"></h3>
                <div class="storage-info">
                    ğŸ“ å¯„æ”¾åœ°ï¼š<input value="${bag.store}" onchange="updateBag(${bIdx}, 'store', this.value)"> | 
                    æ—¥æœŸï¼š<input value="${bag.date}" onchange="updateBag(${bIdx}, 'date', this.value)"> | 
                    è²»ï¼šÂ¥<input value="${bag.cost}" onchange="updateBag(${bIdx}, 'cost', this.value)">
                </div>
                <div class="todo-list">
                    ${bag.items.map((it, iIdx) => `
                        <div class="todo-item">
                            <input type="checkbox"> <span>${it}</span>
                            <i class="fas fa-times" style="margin-left:auto; color:#ddd" onclick="removeItem(${bIdx}, ${iIdx})"></i>
                        </div>
                    `).join('')}
                    <div style="display:flex; gap:5px; margin-top:10px;">
                        <input type="text" id="newIt-${bIdx}" placeholder="æ–°å¢æ”¶ç´é …..." style="flex:1; padding:5px; border:1px solid #eee;">
                        <button onclick="addItem(${bIdx})" style="background:var(--ishi-blue); color:white; border:none; padding:5px 10px; border-radius:4px;">+</button>
                    </div>
                </div>
            </div>
        `).join('');
        localStorage.setItem('ishi_bags_v3', JSON.stringify(bags));
    }

    function updateBag(idx, key, val) { bags[idx][key] = val; renderBags(); }
    function addNewBag() { bags.push({name:"æ–°è¡Œæç®±", store:"", date:"", cost:"", items:[]}); renderBags(); }
    function addItem(idx) {
        let input = document.getElementById(`newIt-${idx}`);
        if(input.value) { bags[idx].items.push(input.value); input.value = ''; renderBags(); }
    }
    function removeItem(bIdx, iIdx) { bags[bIdx].items.splice(iIdx, 1); renderBags(); }

    // è¨˜å¸³ç³»çµ±
    let expenses = JSON.parse(localStorage.getItem('ishi_exp_v3')) || [];
    function addExpense() {
        const title = document.getElementById('expTitle').value;
        const amount = document.getElementById('expAmount').value;
        const cat = document.getElementById('expCat').value;
        if(title && amount) {
            expenses.unshift({ title, amount, cat });
            renderExpenses();
            document.getElementById('expTitle').value = ''; 
            document.getElementById('expAmount').value = '';
        }
    }
    function renderExpenses() {
        const list = document.getElementById('expenseList');
        list.innerHTML = expenses.map(ex => `
            <div class="card" style="padding:12px; border-top:none; border-left:4px solid var(--ishi-orange); display:flex; justify-content:space-between;">
                <span><b>${ex.cat}</b> ${ex.title}</span>
                <span style="color:var(--ishi-orange); font-weight:bold;">Â¥ ${parseInt(ex.amount).toLocaleString()}</span>
            </div>
        `).join('');
        localStorage.setItem('ishi_exp_v3', JSON.stringify(expenses));
    }

    renderBags(); renderExpenses();
</script>

</body>
</html>
